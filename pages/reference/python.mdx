# Python

You can use Haven's python client by installing it with `pip install havenpy`

Here is a collection of example code snippets:

```python filename="setup.py"
from havenpy import Haven

client = Haven("localhost:50051", "insecure")

with open("./key.json", "r") as f:
	client.setup(f.read())
```

```python filename="create_some_workers.py"
rint(client.create_inference_worker(model_name="@huggingface/mosaicml/mpt-7b-chat", quantization="float16", gpu_type="T4", gpu_count=1))

print(client.create_inference_worker(model_name="@huggingface/mosaicml/mpt-7b-instruct", quantization="float16", gpu_type="A100", gpu_count=1))

print(client.create_inference_worker(model_name="@huggingface/h2oai/h2ogpt-gm-oasst1-en-2048-falcon-7b-v2", quantization="float16", gpu_type="T4", gpu_count=1))
print(client.create_inference_worker(model_name="@huggingface/h2oai/h2ogpt-gm-oasst1-en-2048-falcon-7b-v2", quantization="float16", gpu_type="A100", gpu_count=1))

print(client.create_inference_worker(model_name="@huggingface/togethercomputer/RedPajama-INCITE-Chat-3B-v1", quantization="float16", gpu_type="T4", gpu_count=1))
```

```python filename="chatbot.py"
history = []

while True:
	user_input = input("Your message: ")
	history.append({
		"content": user_input,
		"role": "USER"
	})

	res = client.chat_completion("<some worker id>", messages=history, stream=True)
	message = ""
	for r in res:
		message += r.text
		print(r.text, end="", flush=True)

	print()

	history.append({
		"content": message,
		"role": "ASSISTANT"
	})
```
